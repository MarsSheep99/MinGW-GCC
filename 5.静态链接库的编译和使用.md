## 5.静态链接库的编译和使用

源文件多、防止源代码泄漏等情况，可以将.o文件打包成静态链接库。

1.将所需要编译静态链接库的文件编译成.o文件。

```
例如：gcc print_99_table.c -c
     gcc print_star.c -c
```

2.将.o文件打包成静态链接库。

```
ar rcs lib<取名区域>.a <需要打包的.o文件名> <需要打包的.o文件名> ... 
例如：ar rcs libfun.a print_99_table.o print_star.o
静态链接库必须以lib开头，.a结尾，中间为取名区域。
```

3.将静态链接库和头文件一起发送给需要使用的对象。

```
gcc <文件名> -L(指定静态链接库路径) -l<取名区域>
例如：gcc main.c -L . -lfun
gcc <文件名> -L(指定静态链接库路径) <lib<取名区域>.a> -o <指定后文件名>
例如：gcc main.c -L . libfun.a -o main01
```

4.静态链接把所需要的函数的二进制代码都包含到可执行文件中去，在程序发布的时候就不需要依赖库，也就是不再需要带着库一块发布，程序可以独立执行。
